# 環境変数（VITE_GAS_DEPLOYMENT_URL）を設定する方法

## ステップ1: 管理UIを開く

### 方法A: サイトから開く（推奨）

1. 梨花祭サイト（開発サーバー）を開く
2. 画面の右上を見ます
3. 右上に以下のいずれかのアイコンが表示されています：
   - 歯車アイコン（⚙️）
   - パネルアイコン（≡）
   - または「管理」というボタン

4. そのアイコン/ボタンをクリック
5. 右側に管理UIパネルが開きます

## ステップ2: 設定パネルに移動

1. 管理UIパネルが開いたら、左側に複数のメニューが表示されます
2. 以下のメニューが見えるはずです：
   - Preview（プレビュー）
   - Code（コード）
   - Dashboard（ダッシュボード）
   - Database（データベース）
   - Settings（設定）

3. **「Settings」（設定）** をクリック

## ステップ3: シークレットパネルを開く

1. 「Settings」をクリックすると、左側に以下のサブメニューが表示されます：
   - General（一般設定）
   - Domains（ドメイン）
   - Notifications（通知）
   - **Secrets（シークレット）**

2. **「Secrets」** をクリック

## ステップ4: 環境変数を設定

### 既存の環境変数を編集する場合

1. 「Secrets」パネルが開きます
2. 環境変数の一覧が表示されます
3. **「VITE_GAS_DEPLOYMENT_URL」** を探します
4. その行をクリック
5. テキストボックスが表示されます
6. 以前コピーしたGASのURLを貼り付けます
   - 例：`https://script.google.com/macros/d/1234567890abcdefghijklmnopqrstuvwxyz/usercontent`
7. 「保存」または「更新」ボタンをクリック

### 新しい環境変数を追加する場合

1. 「Secrets」パネルで「新しいシークレットを追加」または「+」ボタンをクリック
2. キー名に **「VITE_GAS_DEPLOYMENT_URL」** を入力
3. 値にGASのURLを貼り付け
4. 「保存」をクリック

## ステップ5: 動作確認

1. 環境変数を保存したら、サイトをリロード（F5キーまたはCtrl+R）
2. 「企画紹介」ページを開く
3. スプレッドシートのデータが表示されることを確認

## 画面イメージ（テキスト説明）

```
┌─────────────────────────────────────────┐
│  梨花祭2026特設サイト                      │
│                                           │
│                              [⚙️ 管理UI]  │  ← ここをクリック
└─────────────────────────────────────────┘

↓ クリック後

┌──────────────────┬──────────────────────┐
│ 管理UIメニュー    │  設定パネル           │
│                  │                      │
│ Preview          │  Settings            │
│ Code             │  ├─ General          │
│ Dashboard        │  ├─ Domains          │
│ Database         │  ├─ Notifications    │
│ Settings ←─────→ │  └─ Secrets ←─────┐  │
│                  │                    │  │
│                  │  環境変数一覧:      │  │
│                  │  ┌────────────────┐ │  │
│                  │  │VITE_GAS_...    │ │  │
│                  │  │[URL入力欄]      │ │  │
│                  │  │[保存ボタン]     │ │  │
│                  │  └────────────────┘ │  │
└──────────────────┴──────────────────────┘
```

## トラブルシューティング

### 管理UIが見つからない場合

1. **ブラウザをリロード**してみてください（F5キー）
2. **ログイン状態を確認**してください
3. **開発サーバーが起動**しているか確認してください

### Secretsメニューが見つからない場合

1. 「Settings」をクリック後、左側にサブメニューが表示されるまで待つ
2. サブメニューが表示されない場合は、「Settings」をもう一度クリック

### 環境変数が保存されない場合

1. URLの前後に**余分なスペースがないか**確認
2. URLが正しく**コピーされているか**確認
3. URLの末尾が**/usercontent** で終わっているか確認
4. **保存ボタンをクリック**したか確認

## 設定後の確認

環境変数を設定した後、以下で確認できます：

1. 開発者ツール（F12キー）を開く
2. 「コンソール」タブを見る
3. エラーメッセージが表示されていないか確認
4. 「企画紹介」ページでスプレッドシートのデータが表示されているか確認

## よくある質問

**Q: URLをどこからコピーするのですか？**
A: Google Apps Scriptエディタで「デプロイ」→「デプロイを管理」を開き、最新のデプロイの右側に表示されているURLをコピーします。

**Q: URLの形式は何ですか？**
A: `https://script.google.com/macros/d/{ID}/usercontent` という形式です。

**Q: 保存後、すぐに反映されますか？**
A: サイトをリロード（F5キー）すると反映されます。
