# Google Apps ScriptのデプロイメントURLを取得する方法

## ステップ1: Google Apps Scriptエディタを開く

1. Google Driveで、企画情報を管理しているスプレッドシートを開く
2. メニューから「拡張機能」→「Apps Script」をクリック
3. Apps Scriptエディタが新しいタブで開きます

## ステップ2: デプロイを確認

1. Apps Scriptエディタの左側にある「デプロイ」アイコン（四角形のアイコン）をクリック
2. 「デプロイを管理」をクリック

## ステップ3: URLをコピー

1. 「デプロイを管理」ウィンドウが開きます
2. 最新のデプロイを確認します（日時が最新のもの）
3. 右側にある「ウェブアプリケーション」の欄を見ます
4. URLが表示されています。例：
   ```
   https://script.google.com/macros/d/1234567890abcdefghijklmnopqrstuvwxyz/usercontent
   ```
5. このURLをコピーします

## ステップ4: 環境変数に設定

1. 梨花祭サイトの管理UIを開く
2. 右上の歯車アイコン（設定）をクリック
3. 「シークレット」をクリック
4. 「VITE_GAS_DEPLOYMENT_URL」を探す
5. コピーしたURLを貼り付け
6. 「保存」をクリック

## ステップ5: 動作確認

1. サイトをリロード（Ctrl+R または Cmd+R）
2. 「企画紹介」ページを開く
3. スプレッドシートのデータが表示されることを確認

## トラブルシューティング

### URLが見つからない場合

1. **デプロイが完了しているか確認**
   - Apps Scriptエディタで「デプロイ」→「デプロイを管理」を開く
   - デプロイが表示されているか確認
   - 表示されていない場合は、新しくデプロイを作成

### 新しくデプロイする場合

1. Apps Scriptエディタで「デプロイ」をクリック
2. 「新しいデプロイ」を選択
3. 右上の歯車アイコンをクリック
4. 「ウェブアプリ」を選択
5. 以下を確認：
   - **実行者**: 自分のアカウント
   - **アクセス**: 全員（匿名ユーザーを含む）
6. 「デプロイ」をクリック
7. 確認ダイアログで「許可」をクリック
8. デプロイが完了したら、URLをコピー

### データが表示されない場合

1. **スプレッドシートのシート名を確認**
   - スプレッドシートの下部にあるシート名が「Programs」になっているか確認
   - 異なる場合は、GAS_SCRIPT.gs の `SHEET_NAME` を修正

2. **スプレッドシートのデータを確認**
   - スプレッドシートに2行目以降にデータが入力されているか確認
   - 1行目はヘッダー行のため、データは2行目から開始

3. **ブラウザコンソールでエラーを確認**
   - F12キーを押して開発者ツールを開く
   - 「コンソール」タブでエラーメッセージを確認
   - エラーメッセージをもとに対応

## よくある質問

**Q: URLはどこに表示されていますか？**
A: 「デプロイを管理」ウィンドウで、最新のデプロイの右側に表示されています。

**Q: URLの末尾は何ですか？**
A: `/usercontent` で終わります。`/edit` で終わる場合は間違っています。

**Q: URLをコピーする際に、余分なスペースが入っていないか確認してください。**
A: URLをコピーした後、管理UIに貼り付ける前に、URLの前後にスペースがないか確認してください。
